<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="./ssd-elements/resource-types.html">
<link rel="import" href="shared-styles.html">

<dom-module id="stats4sd-home">

  <template>

    <style include="shared-styles"></style>
    <style>
       :host {
        padding: 10px
      }

      h2 {
        font-size: 1.3em;
        font-weight: 500;
        margin: 32px 0;
      }
      /* can move all style out with template to new element in future */

      
      footer {
        position: fixed;
        padding: 10px;
        bottom: 0;
        left: 0;
        right: 0;
        line-height: 24px;
        background: #999;
        color: white;
      }

      footer>a {
        color: var(--app-secondary-color);
        text-decoration: none;
      }

      footer>a:hover {
        text-decoration: underline;
      }

      @media (max-width: 767px) {
        h2 {
          margin: 24px 0;
          padding: 8px 24px;
        }
      }

      @media (max-width: 320px) {
        .resource-type>img,
        .resource-type {
          width: 100vw;
        }
      }
    </style>

    <!-- <dom-repeat items="[[categories]]">
      <template strip-whitespace>
        <div class="item">
          <a class="image-link" href$="/list/[[item.name]]">
            <stats4sd-image src="[[item.image]]" alt="[[item.title]]" placeholder-img="[[item.placeholder]]"></stats4sd-image>
          </a>
          <h2>[[item.title]]</h2>
          <stats4sd-button>
            <a aria-label$="[[item.title]] stats4sd Now" href$="/list/[[item.name]]">stats4sd Now</a>
          </stats4sd-button>
        </div>
      </template>
    </dom-repeat> -->

    <p class="padding">Welcome to the Stats4SD resource bank. You can browse all resources using the top or sidebar menus, or explore some the
      links below
    </p>
    <div class="sub-section-heading">View Resources by Type</div>
    <resource-types></resource-types>
    
    <div class="sub-section-heading" style="margin-top:2em">Browse Collections</div>
    <p class="padding" style="margin:1em 0 0 0;font-size:small">There are currently no collections</p>

    <footer class="flex">
      <div style='display:inline; color:yellow;font-weight:bold;'>Note</div>
      <div style='padding-left:10px'>This platform is currently in development (v0.9.5).<br>To feedback on specific issues or requests please contact
        <a style="color:wheat" href="mailto:c.clarke@stats4sd.org?Subject=Resources%20Site%20Feedback" target="_top">c.clarke@stats4sd.org</a>
      </div>
      <button class="align-right"><a href="/admin">Admin</a></button>
    </footer>

  </template>

  <script>
    class stats4sdHome extends Polymer.Element {

      static get is() { return 'stats4sd-home'; }
      static get observers() {
        return [
          // '_complexChange(page.*)'
        ]
      }
      static get properties() {
        return {

          categories: {
            type: Array
          },

          visible: {
            type: Boolean,
            observer: '_visibleChanged'
          },
          persistedTags: {
            type: Array,
          },
          page: {
            type: String,
            notify: true
          }

        }
      }
      _complexChange(change) {
        console.log('complex change', change)
      }

      _visibleChanged(visible) {
        if (visible) {
          this.dispatchEvent(new CustomEvent('change-section', {
            bubbles: true, composed: true, detail: { title: 'Home' }
          }));
        }
      }

      _tagFilter(type) {
        return function (tag) {
          if (!type) return true;
          if (!tag) return false;
          return (tag.type == type);
        }
      }
      

      // _ResourceTypeSelected(e) {
      //   console.log('resource type selected', e.model.tag)
      //   this.set("activeFilter", e.model.tag);
      //   // this.dispatchEvent(new CustomEvent('change-section', {
      //   //     bubbles: true, composed: true, detail: { title: 'List' }
      //   //   }));
      // }

    }

    customElements.define(stats4sdHome.is, stats4sdHome);
  </script>

</dom-module>